# Сервис регистрации, авторизации

## Методы:

## Метод регистрации:

***POST auth/v1/register***

Регистрирует пользователя

### Параметры тела запроса:

Параметр|Тип|Описание|Обязательный / опциональный
---|---|---|---
login|string|Логин пользователя|Обязательный
password|string|Пароль пользователя|Обязательный
email|string|Адрес электронной почты пользователя|Обязательный
phone|string|Номер телефона пользователя|Обязательный

### Схема ответа:

Код статуса|Ответ
---|---
200|{"result": "registration successfully completed"}
400 (при некорректном заполнении тела запроса)|{"error": "invalid phone number"}
400 (при наличии схожей записи в БД)|{"error": pq: duplicate key value violates unique constraint "auth_pkey"}

## Метод авторизации:

***POST auth/v1/login***

Производит вход в учетную запись пользователя

### Параметры тела запроса:

Параметр|Тип|Описание|Обязательный / опциональный
---|---|---|---
login|string|Логин пользователя|Обязательный
password|string|Пароль пользователя|Обязательный

### Схема ответа:

Код статуса|Ответ
---|---
200|{"status": "logged in"}
200 (при авторизации с cookie)|{"status": "logged in by token"}
400 (при некорректном заполнении тела запроса)|{"error": "add password to request body"}
403 (при вводе неверных учетных данных)|{"error": "wrong credentials"}

## Запуск с использованием Docker

### Настройка проекта

Создайте `.env` файл в корне репозитория:

```bash
cp .env.example .env
```

Внесите при необходимости корректировки в переменные окружения.

### Сборка образов и запуск контейнеров

В корне репозитория выполните команду:

```bash
docker-compose up --build
```

### Остановка контейнеров

Для остановки контейнеров выполните команду:

```bash
docker-compose stop
```

---

Запросы следует отправлять на http://localhost:8080/